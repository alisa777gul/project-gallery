import{a as m}from"./assets/vendor-Cn2Vr82J.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();async function d(o,r){const i="https://api.unsplash.com",l="LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc",e="/search/photos";try{return(await m.get(`${i}${e}`,{params:{client_id:l,query:o,page:r,per_page:12,orientation:"portrait"}})).data}catch(t){console.error(t)}}const s={gelleryForm:document.querySelector(".gellery-form"),gelleryList:document.querySelector(".gallery-list"),gelleryLoader:document.querySelector(".loader"),loadMoreBtn:document.querySelector(".btn-wrapper")};function u(o){return o.map(r=>` <li class="gallery-item"><img src="${r.urls.small}" alt="${r.description}"></li>`).join("")}function f(){s.gelleryLoader.classList.remove("is-hidden")}function p(){s.gelleryLoader.classList.add("is-hidden")}function g(){s.loadMoreBtn.classList.remove("is-hidden")}function y(){s.loadMoreBtn.classList.add("is-hidden")}let n=1,c=null;async function h(o){o.preventDefault(),s.gelleryList.innerHTML="",n=1,f(),y(),c=o.currentTarget.elements.search.value.trim();try{const r=await d(c,n);s.gelleryList.innerHTML=u(r.results),r.total>12&&g()}catch(r){console.log(r)}finally{p()}}async function L(){n+=1,f();try{const o=await d(c,n);s.gelleryList.insertAdjacentHTML("beforeend",u(o.results)),Math.ceil(o.total/12)===n&&(y(),alert("this is the last page"))}catch(o){console.error(o)}finally{p()}}s.gelleryForm.addEventListener("submit",h);s.loadMoreBtn.addEventListener("click",L);
//# sourceMappingURL=index.js.map

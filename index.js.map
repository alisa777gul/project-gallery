{"version":3,"file":"index.js","sources":["../src/js/unsplash-api.js","../src/js/refs.js","../src/js/murkup.js","../src/js/loader.js","../src/js/btn.js","../src/js/gallery.js"],"sourcesContent":["// 'https://api.unsplash.com/photos/?client_id=YOUR_ACCESS_KEY'\n\nimport axios from \"axios\";\n\nexport async function getPhotos(query, page) {\n    const BASE_URL = 'https://api.unsplash.com';\n    const API_KEY = 'LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc';\n    const END_POINT = '/search/photos';\n  try {\n      const response = await axios.get(`${BASE_URL}${END_POINT}`, {\n          params: {\n              client_id: API_KEY,\n              query,\n              page,\n              per_page: 12,\n              orientation: 'portrait',\n        }\n    });\n      return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}","export const refs = {\n  gelleryForm: document.querySelector('.gellery-form'),\n  gelleryList: document.querySelector('.gallery-list'),\n  gelleryLoader: document.querySelector('.loader'),\n  loadMoreBtn: document.querySelector('.btn-wrapper'),\n};\n","export function createMarkup(arr) {\n  return arr\n    .map(\n      item =>\n        ` <li class=\"gallery-item\"><img src=\"${item.urls.small}\" alt=\"${item.description}\"></li>`\n    )\n    .join('');\n}\n","import { refs } from './refs';\n\nexport function showLoader() {\n  refs.gelleryLoader.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  refs.gelleryLoader.classList.add('is-hidden');\n}\n","import { refs } from './refs';\n\nexport function showBtn() {\n  refs.loadMoreBtn.classList.remove('is-hidden');\n}\n\nexport function hideBtn() {\n  refs.loadMoreBtn.classList.add('is-hidden');\n}","import { getPhotos } from './unsplash-api';\nimport { refs } from './refs';\nimport { createMarkup } from './murkup';\nimport { showLoader, hideLoader } from './loader';\nimport { showBtn, hideBtn } from './btn';\n\nlet page = 1;\nlet query = null;\n\nasync function handlerSubmit(evt) {\n  evt.preventDefault();\n  refs.gelleryList.innerHTML = '';\n  page = 1;\n  showLoader();\n  hideBtn();\n  query = evt.currentTarget.elements.search.value.trim();\n  try {\n    const response = await getPhotos(query, page);\n    refs.gelleryList.innerHTML = createMarkup(response.results);\n    if (response.total > 12) {\n      showBtn();\n    }\n  } catch (error) {\n    console.log(error);\n  } finally {\n    hideLoader();\n  }\n}\n\nasync function handlerClick() {\n  page +=1;\n  showLoader();\n  try {\n\tconst response = await getPhotos(query, page);\n\trefs.gelleryList.insertAdjacentHTML('beforeend', createMarkup(response.results));\n\tconst lastPage = Math.ceil(response.total / 12)\n\tif(lastPage === page){\n\t\thideBtn()\n\t\talert('this is the last page')\n\t}\n\t\n  } catch (error) {\n\tconsole.error(error)\n  }finally{\n\thideLoader();\n  }\n\n}\n\nrefs.gelleryForm.addEventListener('submit', handlerSubmit);\nrefs.loadMoreBtn.addEventListener('click', handlerClick);\n"],"names":["getPhotos","query","page","BASE_URL","API_KEY","END_POINT","axios","error","refs","createMarkup","arr","item","showLoader","hideLoader","showBtn","hideBtn","handlerSubmit","evt","response","handlerClick"],"mappings":"svBAIO,eAAeA,EAAUC,EAAOC,EAAM,CACzC,MAAMC,EAAW,2BACXC,EAAU,8CACVC,EAAY,iBACpB,GAAI,CAUA,OATiB,MAAMC,EAAM,IAAI,GAAGH,CAAQ,GAAGE,CAAS,GAAI,CACxD,OAAQ,CACJ,UAAWD,EACX,MAAAH,EACA,KAAAC,EACA,SAAU,GACV,YAAa,UAClB,CACT,CAAK,GACiB,IACnB,OAAQK,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CCtBO,MAAMC,EAAO,CAClB,YAAa,SAAS,cAAc,eAAe,EACnD,YAAa,SAAS,cAAc,eAAe,EACnD,cAAe,SAAS,cAAc,SAAS,EAC/C,YAAa,SAAS,cAAc,cAAc,CACpD,ECLO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACCC,GACE,uCAAuCA,EAAK,KAAK,KAAK,UAAUA,EAAK,WAAW,SACnF,EACA,KAAK,EAAE,CACZ,CCLO,SAASC,GAAa,CAC3BJ,EAAK,cAAc,UAAU,OAAO,WAAW,CACjD,CAEO,SAASK,GAAa,CAC3BL,EAAK,cAAc,UAAU,IAAI,WAAW,CAC9C,CCNO,SAASM,GAAU,CACxBN,EAAK,YAAY,UAAU,OAAO,WAAW,CAC/C,CAEO,SAASO,GAAU,CACxBP,EAAK,YAAY,UAAU,IAAI,WAAW,CAC5C,CCFA,IAAIN,EAAO,EACPD,EAAQ,KAEZ,eAAee,EAAcC,EAAK,CAChCA,EAAI,eAAc,EAClBT,EAAK,YAAY,UAAY,GAC7BN,EAAO,EACPU,IACAG,IACAd,EAAQgB,EAAI,cAAc,SAAS,OAAO,MAAM,OAChD,GAAI,CACF,MAAMC,EAAW,MAAMlB,EAAUC,EAAOC,CAAI,EAC5CM,EAAK,YAAY,UAAYC,EAAaS,EAAS,OAAO,EACtDA,EAAS,MAAQ,IACnBJ,GAEH,OAAQP,EAAO,CACd,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRM,GACD,CACH,CAEA,eAAeM,GAAe,CAC5BjB,GAAO,EACPU,IACA,GAAI,CACL,MAAMM,EAAW,MAAMlB,EAAUC,EAAOC,CAAI,EAC5CM,EAAK,YAAY,mBAAmB,YAAaC,EAAaS,EAAS,OAAO,CAAC,EAC9D,KAAK,KAAKA,EAAS,MAAQ,EAAE,IAC9BhB,IACfa,EAAS,EACT,MAAM,uBAAuB,EAG5B,OAAQR,EAAO,CACjB,QAAQ,MAAMA,CAAK,CACpB,QAAG,CACFM,GACE,CAEH,CAEAL,EAAK,YAAY,iBAAiB,SAAUQ,CAAa,EACzDR,EAAK,YAAY,iBAAiB,QAASW,CAAY"}